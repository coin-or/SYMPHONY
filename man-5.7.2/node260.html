<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2020.2 (Released July 1, 2020) -->
<HTML lang="en">
<HEAD>
<TITLE>user_find_cuts</TITLE>
<META NAME="description" CONTENT="user_find_cuts">
<META NAME="keywords" CONTENT="man">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2020.2">

<LINK REL="STYLESHEET" HREF="man.css">

<LINK REL="next" HREF="node261.html">
<LINK REL="previous" HREF="node259.html">
<LINK REL="next" HREF="node261.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="node261.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node257.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node259.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html1618"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="node261.html">user_check_validity_of_cut</A>
<B> Up:</B> <A
 HREF="node257.html">Cut generator module callbacks</A>
<B> Previous:</B> <A
 HREF="node259.html">user_receive_lp_solution_cg</A>
 &nbsp; <B>  <A ID="tex2html1619"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H3><A ID="SECTION00733300000000000000"></A>

<A ID="user_find_cuts"></A>
<BR>
user_find_cuts
</H3>
<PRE>
int user_find_cuts(void *user, int varnum, int iter_num, int level,
		    int index, double objval, int *indices, double *values,
		    double ub, double lpetol, int *cutnum)
</PRE>

<P>
<DL>
<DT><STRONG>
<FONT COLOR="#00ffff">Description:</FONT></STRONG></DT>
<DD>

<P>
In this function, the user can generate cuts based on the current LP solution
stored in <SPAN style="font-family:monospace">soln</SPAN>. Cuts found are added to the LP by calling the <SPAN style="font-family:monospace">cg_add_user_cut(<A HREF="node231.html#cut_data">cut_data</A> *new_cut)</SPAN> function, which
then transfers the cut to the LP module, either through message passing or
shared memory.  The argument of this function is a pointer to the cut to be
sent. See Section <A HREF="node226.html#user-written-lp">6.3.2</A> for a description of this data
structure. Each user-defined cut assigned a type and a designated packed
form. Each user-defined type must be recognized by the user's <A HREF="node249.html#user_unpack_cuts"><SPAN style="font-family:monospace">user_unpack_cuts()</SPAN></A>
function in the master module. If the user wants a user-defined cut to be
added to the cut pool in case it proves to be effective in the LP, then <SPAN style="font-family:monospace">new_cut-&gt;name</SPAN> should be set to <SPAN style="font-family:monospace">CUT__SEND_TO_CP</SPAN>. In this case, the
cut must be globally valid. Otherwise, it should be set to <SPAN style="font-family:monospace">CUT__DO_NOT_SEND_TO_CP</SPAN>. 
<BR>
<BR>
Alternatively, SYMPHONY provides automated support for the generation of cuts
represented explicitly as matrix rows. These cuts are passed as sparse vectors
and can be added by calling the routine <SPAN  CLASS="texttt">cg_add_explicit_cut()</SPAN>,
which has the following interface.
<PRE>
int cg_add_explicit_cut(int nzcnt, int *indices, double *values,
                        double rhs, double range, char sense, 
                        char send_to_cp)
</PRE>
Here, <SPAN  CLASS="texttt">nzcnt</SPAN> is the number of nonzero coefficients in the cut,
<SPAN  CLASS="texttt">indices</SPAN> is an array containing the indices of the columns with
nonzero entries, and <SPAN  CLASS="texttt">values</SPAN> is an array of the corresponding
values. The right hand side value is passed in through the variable
<SPAN  CLASS="texttt">rhs</SPAN>, the range is passed in through the variable <SPAN  CLASS="texttt">range</SPAN>, and
the sense of the inequality is passed through the variable
<SPAN  CLASS="texttt">sense</SPAN>. Finally, the variable <SPAN  CLASS="texttt">send_to_cp</SPAN> indicates to
SYMPHONY whether the cut is globally valid and should be sent to the cut pool,
or whether it is only to be used locally.
<BR>
<BR>
The only output of the <SPAN  CLASS="texttt">user_find_cuts()</SPAN> function is the number of
cuts generated and this value is returned in the last argument. For options to
generate generic cuts automatically using the COIN Cut Generation Library, see
the function <A HREF="node253.html#user_generate_cuts_in_lp"><SPAN style="font-family:monospace">
<FONT COLOR="#ff0000"> user_generate_cuts_in_lp()</FONT></SPAN></A>
<BR>
<BR>
<P>

</DD>
<DT><STRONG>
<FONT COLOR="#a52a2a">Arguments:</FONT></STRONG></DT>
<DD>

<P>
<TABLE class="PAD " style="">
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">void *user</SPAN></TD>
<TD CLASS="LEFT">IN</TD>
<TD CLASS="LEFT TOP"  WIDTH=281>Pointer to the user-defined data structure.</TD>
</TR>
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">int iter_num</SPAN></TD>
<TD CLASS="LEFT">IN</TD>
<TD CLASS="LEFT TOP"  WIDTH=281>The iteration number of the current LP solution.</TD>
</TR>
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">int level</SPAN></TD>
<TD CLASS="LEFT">IN</TD>
<TD CLASS="LEFT TOP"  WIDTH=281>The level in the tree on which the current LP
solution was generated.</TD>
</TR>
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">index</SPAN></TD>
<TD CLASS="LEFT">IN</TD>
<TD CLASS="LEFT TOP"  WIDTH=281>The index of the node in which LP solution was generated.</TD>
</TR>
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">objval</SPAN></TD>
<TD CLASS="LEFT">IN</TD>
<TD CLASS="LEFT TOP"  WIDTH=281>The objective function value of the current LP solution.</TD>
</TR>
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">int varnum</SPAN></TD>
<TD CLASS="LEFT">IN</TD>
<TD CLASS="LEFT TOP"  WIDTH=281>The number of nonzeros in the current LP solution.</TD>
</TR>
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">indices</SPAN></TD>
<TD CLASS="LEFT">IN</TD>
<TD CLASS="LEFT TOP"  WIDTH=281>The column indices of the nonzero variables in the current
LP solution.</TD>
</TR>
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">values</SPAN></TD>
<TD CLASS="LEFT">IN</TD>
<TD CLASS="LEFT TOP"  WIDTH=281>The values of the nonzero variables listed in 
<SPAN style="font-family:monospace">indices</SPAN>.</TD>
</TR>
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">double ub</SPAN></TD>
<TD CLASS="LEFT">IN</TD>
<TD CLASS="LEFT TOP"  WIDTH=281>The current global upper bound.</TD>
</TR>
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">double lpetol</SPAN></TD>
<TD CLASS="LEFT">IN</TD>
<TD CLASS="LEFT TOP"  WIDTH=281>The current error tolerance in the LP.</TD>
</TR>
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">int *cutnum</SPAN></TD>
<TD CLASS="LEFT">OUT</TD>
<TD CLASS="LEFT TOP"  WIDTH=281>Pointer to the number of cuts generated
and sent to the LP.</TD>
</TR>
</TABLE>

<P>
</DD>
<DT><STRONG>
<FONT COLOR="#00ff00">Return values:</FONT></STRONG></DT>
<DD>

<P>
<TABLE class="PAD " style="">
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">USER_ERROR</SPAN></TD>
<TD CLASS="LEFT TOP"  WIDTH=301>Ignored.</TD>
</TR>
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">USER_SUCCESS</SPAN></TD>
<TD CLASS="LEFT TOP"  WIDTH=301>The user function exited properly.</TD>
</TR>
<TR><TD CLASS="LEFT"><SPAN style="font-family:monospace">USER_DEFAULT</SPAN></TD>
<TD CLASS="LEFT TOP"  WIDTH=301>No cuts were generated.</TD>
</TR>
</TABLE>

<P>
</DD>
<DT><STRONG>Invoked from:</STRONG></DT>
<DD>Whenever an LP solution is received.

<P>
</DD>
</DL>

<P>
<BR>
<BR>

<P>
<A ID="user_check_validity_of_cut"></A>
<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="node261.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node257.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node259.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html1618"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="node261.html">user_check_validity_of_cut</A>
<B> Up:</B> <A
 HREF="node257.html">Cut generator module callbacks</A>
<B> Previous:</B> <A
 HREF="node259.html">user_receive_lp_solution_cg</A>
 &nbsp; <B>  <A ID="tex2html1619"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
