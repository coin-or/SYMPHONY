<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2020.2 (Released July 1, 2020) -->
<HTML lang="en">
<HEAD>
<TITLE>sym_close_environment()</TITLE>
<META NAME="description" CONTENT="sym_close_environment()">
<META NAME="keywords" CONTENT="man">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2020.2">

<LINK REL="STYLESHEET" HREF="man.css">

<LINK REL="previous" HREF="node54.html">
<LINK REL="next" HREF="node56.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="node56.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node47.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node54.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html627"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="node56.html">The C++ API</A>
<B> Up:</B> <A
 HREF="node47.html">The C API</A>
<B> Previous:</B> <A
 HREF="node54.html">sym_mc_solve()</A>
 &nbsp; <B>  <A ID="tex2html628"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H4><A ID="SECTION00431080000000000000">
<SPAN style="font-family:monospace">
<FONT COLOR="#ff0000"> sym_close_environment()</FONT></SPAN></A>
</H4> Frees all problem data and
deletes the environment. 
<BR>
<P>
As an example of the use of the library functions, Figure
<A HREF="#default_main">3.1</A> shows the code for implementing a generic MILP solver with
default parameter settings.

<DIV class="CENTER"><A ID="default_main"></A><A ID="5000"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure 3.1:</STRONG>
Implementation of a generic MILP solver with the SYMPHONY
C callable library.</CAPTION>
<TR><TD><IMG STYLE="height: 40.16ex; " SRC="img3.png"
 ALT="\begin{figure}{\color{brown}
\begin{Verbatim}[frame=lines]
int main(int argc, ch...
...);
sym_solve(env);
sym_close_environment(env);
}\end{Verbatim}
}\end{figure}"></TD></TR>
</TABLE>
</DIV>
To read in an MPS file called 
<FONT COLOR="#a52a2a"><SPAN  CLASS="texttt">sample.mps</SPAN></FONT> and solve it using 
this program, the following command would be issued: 
<BR>
<PRE>
 ./symphony -F sample.mps
</PRE>
To read and solve a model in LP format, the command would be

<PRE>
 ./symphony -L sample.lp
</PRE> 
The user does not have to invoke a command to read the input file. During the
call to <SPAN style="font-family:monospace">
<FONT COLOR="#ff0000"> sym_parse_</FONT></SPAN> <SPAN style="font-family:monospace">
<FONT COLOR="#ff0000"> command_line()</FONT></SPAN>, SYMPHONY determines that the
user wants to read in an MPS file. During the subsequent call to
<SPAN style="font-family:monospace">
<FONT COLOR="#ff0000"> sym_load_problem()</FONT></SPAN>, the file is read and the problem data stored.
To read an GMPL file, the user would issue the command

<PRE>
 ./symphony -F sample.mod -D sample.dat
</PRE>
Although the same command-line switch is used to specify the model file, the
additional presence of the 
<FONT COLOR="#a52a2a"><SPAN  CLASS="texttt">-D</SPAN></FONT> option indicates to SYMPHONY that the
model file is in GMPL format and GLPK's GMPL parser is invoked
[<A
 HREF="node284.html#GLPK">25</A>]. Note that the interface and the code of Figure <A HREF="#default_main">3.1</A>
is the same for both sequential and parallel computations. The choice between
sequential and parallel execution modes is made at compile-time through
modification of the makefile or the project settings, depending on the
operating system.

<P>
To start the solution process from a warm start, the <SPAN style="font-family:monospace">
<FONT COLOR="#ff0000"> sym_warm_solve()</FONT></SPAN>
command is used. SYMPHONY automatically records the warm start information
resulting from the last solve call and restarts from that checkpoint if a call
to <SPAN style="font-family:monospace">
<FONT COLOR="#ff0000"> sym_warm_solve()</FONT></SPAN> is made. Alternatively, external warm start
information can be loaded manually. Figure <A HREF="#dynamic">3.2</A> illustrates the use
of the re-solve capability by showing the code for implementing a solver that
changes from depth first search to best first search after the first feasible
solution is found.

<DIV class="CENTER"><A ID="dynamic"></A><A ID="5005"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure 3.2:</STRONG>
Implementation of a dynamic MILP solver with SYMPHONY. 
</CAPTION>
<TR><TD><IMG STYLE="height: 58.56ex; " SRC="img4.png"
 ALT="\begin{figure}{\color{brown}
\begin{Verbatim}[frame=lines]
int main(int argc, ch...
...egy'', BEST_FIRST_SEARCH);
sym_warm_solve(env);
}\end{Verbatim}
}\end{figure}"></TD></TR>
</TABLE>
</DIV>
The user can also modify problem data in between calls to the solver. Code for
doing so is shown in Figure <A HREF="#warm_start">3.3</A>. In this example, the
solver is allowed to process 100 nodes and then save the warm start
information. Afterward, the original problem is solved to optimality, then is
modified and re-solved from the saved checkpoint. 

<DIV class="CENTER"><A ID="warm_start"></A><A ID="5007"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure 3.3:</STRONG>
Use of SYMPHONY's warm start capability.</CAPTION>
<TR><TD><IMG STYLE="height: 81.65ex; " SRC="img5.png"
 ALT="\begin{figure}{\color{brown}
\begin{Verbatim}[frame=lines]
int main(int argc, ch...
...;
sym_set_warm_start(ws);
sym_warm_solve(env);
}\end{Verbatim}
}\end{figure}"></TD></TR>
</TABLE>
</DIV>

<P>
Finally, SYMPHONY now also has a bicriteria solve call. The applications of
such a solver are numerous. Besides yielding the ability to closely examine
the tradeoffs between competing objectives, the method can be used to perform
detailed sensitivity analysis in a manner analogous to that which can be done
with simplex based solvers for linear programs. As an example, suppose we
would like to know exactly how the optimal objective function value for a
given pure integer program depends on the value of a given objective function
coefficient. Consider increasing the objective function
coefficient of variable 
<FONT COLOR="#a52a2a"><SPAN CLASS="MATH"><IMG STYLE="height: 1.60ex; vertical-align: -0.11ex; " SRC="img6.png"
 ALT="\bgroup\color{brown}$ i$\egroup"></SPAN></FONT> from its current value. Taking the first objective
function to be the original one and taking the second objective function to be
the 
<FONT COLOR="#a52a2a"><!-- MATH
 $i^\textrm{th}$
 -->
<SPAN CLASS="MATH"><IMG STYLE="height: 2.11ex; vertical-align: -0.11ex; " SRC="img7.png"
 ALT="\bgroup\color{brown}$ i^\textrm{th}$\egroup"></SPAN></FONT> unit vector, we can derive the desired sensitivity
function by using the bicriteria solution algorithm to enumerate all supported
solutions and breakpoints. This information can easily be used to obtain the
desired function. Figure <A HREF="#multi_criteria">3.4</A> shows the code for performing
this analysis on variable 0. 

<DIV class="CENTER"><A ID="multi_criteria"></A><A ID="5009"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure 3.4:</STRONG>
Performing sensitivity analysis with SYMPHONY's bicriteria solver.
</CAPTION>
<TR><TD><IMG STYLE="height: 40.16ex; " SRC="img8.png"
 ALT="\begin{figure}{\color{brown}
\begin{Verbatim}[frame=lines]
int main(int argc, ch...
...m_set_obj2_coeff(env, 0, 1);
sym_mc_solve(env);
}\end{Verbatim}
}\end{figure}"></TD></TR>
</TABLE>
</DIV>

<P>
In addition to the parts of the API we have just described, there are a number
of standard subroutines for accessing and modifying problem data and
parameters. These can be used between calls to the solver to change the
behavior of the algorithm or to modify the instance being solved. These
modifications are discussed in more detail in Section <A HREF="node78.html#warm_solve">4.4.1.2</A>.

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="node56.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node47.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node54.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html627"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="node56.html">The C++ API</A>
<B> Up:</B> <A
 HREF="node47.html">The C API</A>
<B> Previous:</B> <A
 HREF="node54.html">sym_mc_solve()</A>
 &nbsp; <B>  <A ID="tex2html628"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
